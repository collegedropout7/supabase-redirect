<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Redirecting...</title>
    <script>
      const params = new URLSearchParams(window.location.search);
      // Supabase가 code 대신 token_hash로 보내는 경우도 있음
      const code = params.get("code") || params.get("token_hash");
      const type = params.get("type");
      const deepLink = `realapp://verifyComplete?code=${code}&type=${type}`;

      if (code) {
        window.location.replace(deepLink);
      } else {
        document.write("<p>인증 코드가 없습니다. 브라우저에서 다시 시도해주세요.</p>");
      }
    </script>
  </head>
  <body>
    <p>앱으로 이동 중...</p>
  </body>
</html>
